<!DOCTYPE html>
<html>

<meta charset="UTF-8">
<head>
<title>Page Title</title>
</head>
<script type="text/javascript">
window.onload = function(){
	
	try{
		navigator.permissions.query({ name: 'accelerometer' }).then(result => {
			if (result.state === 'denied') {
				document.getElementById("error").innerHTML = 'Permission to use accelerometer sensor is denied.';
				return;
			}
		}

		let sensor = new Accelerometer();

		sensor.start();

		sensor.onreading = () => {
			document.getElementById("x").innerHTML = "Acceleration along X-axis: " + sensor.x;
			document.getElementById("y").innerHTML = "Acceleration along Y-axis: " + sensor.y;
			document.getElementById("z").innerHTML = "Acceleration along Z-axis: " + sensor.z;
		}

		sensor.onerror = event => console.log(event.error.name, event.error.message);
	}
	catch(e){
		document.getElementById("error").innerHTML = e.toString();
	}
}
</script>
<body>

<h1>User Activity Recognition</h1>
<p>A simple crowd-sensing model.</p>
<p id="error">
<ul>
  <li id="x">X:</li>
  <li id="y">Y:</li>
  <li id="z">Z:</li>
</ul> 

</body>
</html> 